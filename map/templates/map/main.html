{% extends 'donation/navfull.html' %}
{% block content %}
<!-- shelter data-->
<div id='map'></div>
<script>
  mapboxgl.accessToken = '{{ mapbox_access_token }}'
  var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/jginmb7/ckgg1lsi02e2m1ao7bk8ov89z',
    center: [-73.9911, 40.7051],
    zoom: 9.5
  })
</script>

{% for center in drop_in_centers %}
<script>
  new mapboxgl.Marker({ "color": 'red' })
    .setLngLat([{{ center.longitude }}, {{ center.latitude }}])
    .setPopup(new mapboxgl.Popup({ offset: 50 })
      .setHTML("<p>Drop-in Center: <strong>{{center.center_name}}</strong></p><p>Address: <strong>{{center.address}}</strong></p><p>Borough: <strong>{{center.borough}}</strong></p><p>Zip: <strong>{{center.postcode}}</strong></p><p>Comments: <strong>{{center.comments}}</strong></p>"
        ))
    .addTo(map)
</script>
{% endfor %}
{% endblock content %}