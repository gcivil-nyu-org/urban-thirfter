{% extends 'donation/base.html' %}
{% load static %}
{% block content %}

<div class="content-section container animated fadeInUp">
    <!-- <img class='rounded-circle article-img' src='{% static "donation/asset/user.svg" %}'> -->
    <!--  p>{{ object.image.url }}</p-->
    <div class="row justify-content-around">
        <div class="col-md-10">
            <legend class='mb-4 font-weight-bold'>Donation Details</legend>
        </div>
    </div>
    <!-- Crispy filter to style the form -->
    <div class="row justify-content-around">
        <!-- <div class="col-md-4">
            <img src="{{object.image.url}}" />
        </div> -->
        <div class="col-4">
            <label>Title</label>
            <p class="graybox">{{ object.title }}</p>
            <label>Dropoff Time</label>
            <p class="graybox">{{ object.dropoff_time_1 }}</p>
            {% if object.dropoff_time_2 != None %}
            <label>Dropoff Time 2</label>
            <p class="graybox">{{ object.dropoff_time_2 }}</p>
            {% endif %}
            {% if object.dropoff_time_3 != None %}
            <label>Dropoff Time 3</label>
            <p class="graybox">{{ object.dropoff_time_3 }}</p>
            {% endif %}
            <label>Dropoff Location</label>
            <p class="graybox">{{ object.dropoff_location.place }}</p>
        </div>
        <div class="col-4">
            <label>Resource Category</label>
            <p class="graybox">{{ object.resource_category }}</p>
            <label>Quantity</label>
            <p class="graybox">{{ object.quantity }}</p>
            <label>Description</label>
            <p class="graybox">{{ object.description }}</p>
        </div>
    </div>
    <div class="row justify-content-around">
        <div class="col-md-10">
            <div id="dropoff-location" class="mt-3"></div>
        </div>
        {% if object.donor == user %}
        <div>
            <a class='btn btn-outline-dark mt-5 mb-3 btn-wide' href=''>Update</a>
            <a class='btn btn-danger mt-5 mb-3 btn-wide' href=''>Delete</a>
        </div>
        {% endif %}
    </div>
</div>

<script>
    mapboxgl.accessToken = '{{mapbox_access_token}}'
    var map = new mapboxgl.Map({
        container: 'dropoff-location',
        style: 'mapbox://styles/jginmb7/ckgg1lsi02e2m1ao7bk8ov89z',
        center: ["{{ object.dropoff_location.longitude}}", "{{ object.dropoff_location.latitude}}"],
        // center: [-73.8648, 40.8448],
        zoom: 15
    });
    new mapboxgl.Marker()
        .setLngLat(["{{ object.dropoff_location.longitude}}", "{{ object.dropoff_location.latitude}}"])
        .addTo(map)
</script>
{% endblock content %}